[2025-08-20 13:31:41] ゲストキャラクター抽出分析開始
[2025-08-20 13:31:41] ================================================================================
[2025-08-20 13:31:41] データベース内キャラクター分析結果
[2025-08-20 13:31:41] ================================================================================
[2025-08-20 13:31:41] 📊 総キャラクター種類数: 536
[2025-08-20 13:31:41] ✅ 定型キャラクター: 11種類
[2025-08-20 13:31:41] 🎭 ゲストキャラクター候補: 439種類
[2025-08-20 13:31:41] ❌ 除外対象: 86種類
[2025-08-20 13:31:41] 
📋 定型キャラクター一覧:
[2025-08-20 13:31:41]   サンサン: 51210回 (1415スクリプト)
[2025-08-20 13:31:41]   くもりん: 46265回 (1389スクリプト)
[2025-08-20 13:31:41]   SE: 17242回 (191スクリプト)
[2025-08-20 13:31:41]   ツクモ: 8945回 (477スクリプト)
[2025-08-20 13:31:41]   ノイズ: 6557回 (381スクリプト)
[2025-08-20 13:31:41]   BB: 1765回 (119スクリプト)
[2025-08-20 13:31:41]   みんな: 1106回 (303スクリプト)
[2025-08-20 13:31:41]   ママ: 82回 (21スクリプト)
[2025-08-20 13:31:41]   パパ: 9回 (8スクリプト)
[2025-08-20 13:31:41]   子ども: 3回 (3スクリプト)
[2025-08-20 13:31:41]   こども: 3回 (1スクリプト)
[2025-08-20 13:31:41] 
🎭 ゲストキャラクター候補（上位20）:
[2025-08-20 13:31:41]   プリル: 752回 (41スクリプト)
[2025-08-20 13:31:41]   メカメカ！メカメカ！: 60回 (1スクリプト)
[2025-08-20 13:31:41]   アイス姉さん: 58回 (1スクリプト)
[2025-08-20 13:31:41]   レッツプレイ！: 49回 (6スクリプト)
[2025-08-20 13:31:41]   ゾンビ: 48回 (4スクリプト)
[2025-08-20 13:31:41]   そーだおじさん: 42回 (42スクリプト)
[2025-08-20 13:31:41]   犬ガンマン: 41回 (1スクリプト)
[2025-08-20 13:31:41]   ノイズ風: 40回 (1スクリプト)
[2025-08-20 13:31:41]   サンタ: 36回 (3スクリプト)
[2025-08-20 13:31:41]   どきどき！: 36回 (1スクリプト)
[2025-08-20 13:31:41]   いきもの: 35回 (1スクリプト)
[2025-08-20 13:31:41]   ター子: 34回 (2スクリプト)
[2025-08-20 13:31:41]   うんち: 34回 (1スクリプト)
[2025-08-20 13:31:41]   しょーちょーまきまき！: 32回 (1スクリプト)
[2025-08-20 13:31:41]   ぴえん: 31回 (1スクリプト)
[2025-08-20 13:31:41]   いぬガンマン: 31回 (1スクリプト)
[2025-08-20 13:31:41]   赤鬼: 30回 (2スクリプト)
[2025-08-20 13:31:41]   焦る様子: 28回 (2スクリプト)
[2025-08-20 13:31:41]   おりがみ夫人: 27回 (1スクリプト)
[2025-08-20 13:31:41]   はーい！: 26回 (2スクリプト)
[2025-08-20 13:31:41] 
❌ 除外されたエントリ（上位10）:
[2025-08-20 13:31:41]   TRUE: 2321回 (18スクリプト)
[2025-08-20 13:31:41]   FALSE: 1088回 (24スクリプト)
[2025-08-20 13:31:41]   セリフ: 162回 (19スクリプト)
[2025-08-20 13:31:41]   [=countifs(D12:D,"キャラ名",C12:C,"TRUE")]: 128回 (15スクリプト)
[2025-08-20 13:31:41]   不明: 60回 (21スクリプト)
[2025-08-20 13:31:41]   登場キャラ: 21回 (18スクリプト)
[2025-08-20 13:31:41]   紹介するデヤンス！: 10回 (1スクリプト)
[2025-08-20 13:31:41]   急に言われても・・・: 10回 (1スクリプト)
[2025-08-20 13:31:41]   広い海・・・: 10回 (1スクリプト)
[2025-08-20 13:31:41]   ・・さ！次はポイポイマシーンだあ！！: 10回 (1スクリプト)
[2025-08-20 13:31:41] 
================================================================================
[2025-08-20 13:31:41] 指定キャラクターの抽出状況確認
[2025-08-20 13:31:41] ================================================================================
[2025-08-20 13:31:41] 
🔍 'カエルン' の検索結果:
[2025-08-20 13:31:41]   完全一致: 0件
[2025-08-20 13:31:41]   ❌ 部分一致も見つかりませんでした
[2025-08-20 13:31:41] 
🔍 'ウサッチ' の検索結果:
[2025-08-20 13:31:41]   完全一致: 0件
[2025-08-20 13:31:41]   ❌ 部分一致も見つかりませんでした
[2025-08-20 13:31:41] 
🔍 'モーレツ先生' の検索結果:
[2025-08-20 13:31:41]   完全一致: 0件
[2025-08-20 13:31:41]   ❌ 部分一致も見つかりませんでした
[2025-08-20 13:31:41] 
================================================================================
[2025-08-20 13:31:41] 抽出ロジック制約分析
[2025-08-20 13:31:41] ================================================================================
[2025-08-20 13:31:41] 📋 現在の抽出制約:
[2025-08-20 13:31:41]   長さ制限: 0文字より長く、20文字以下
[2025-08-20 13:31:41]   指示文マーカー除外: ・（）→カット映像テロップアニメ編集選手登場シーン全種類紹介作り方演出
[2025-08-20 13:31:41]   空白値除外: 空白やNULL値
[2025-08-20 13:31:41]   ヘッダー行依存: キャラクター列ヘッダーが見つからない場合は全体をスキップ
[2025-08-20 13:31:41] 
⚠️  ゲストキャラクター抽出の潜在的問題:
[2025-08-20 13:31:41]   1. 20文字を超える長いゲストキャラクター名が除外される
[2025-08-20 13:31:41]   2. カッコ付きキャラクター名（例：（ゲスト）カエルン）が除外される
[2025-08-20 13:31:41]   3. ヘッダー行が不規則なシートで全データがスキップされる
[2025-08-20 13:31:41]   4. 特殊文字を含むキャラクター名が指示文として誤判定される
[2025-08-20 13:31:41]   5. プルダウン以外の直接入力キャラクターに偏った除外ルールが適用される
[2025-08-20 13:31:41] 
================================================================================
[2025-08-20 13:31:41] ゲストキャラクター抽出改善提案
[2025-08-20 13:31:41] ================================================================================
[2025-08-20 13:31:41] ✅ 推奨改善策:
[2025-08-20 13:31:41]   1. 文字数制限の緩和: 20文字 → 30文字に拡張
[2025-08-20 13:31:41]   2. ゲストキャラクター専用の許可リスト作成
[2025-08-20 13:31:41]   3. 指示文判定の精度向上（完全一致 → 部分一致の見直し）
[2025-08-20 13:31:41]   4. スプレッドシート解析での手動入力セル検出機能
[2025-08-20 13:31:41]   5. 抽出後の人間による確認プロセス追加
[2025-08-20 13:31:41]   6. 定期的なゲストキャラクター監査と追加
[2025-08-20 13:31:41] 
🔧 具体的なコード変更案:
[2025-08-20 13:31:41]   A) character_name長さ制限: 20 → 30文字
[2025-08-20 13:31:41]   B) 指示文マーカー判定をより厳密に（完全文字列での判定）
[2025-08-20 13:31:41]   C) ゲストキャラクター候補の手動確認フラグ追加
[2025-08-20 13:31:41]   D) 抽出されたキャラクター名の定期レポート機能
[2025-08-20 13:31:41] 
================================================================================
[2025-08-20 13:31:41] 📋 分析完了サマリー
[2025-08-20 13:31:41] ================================================================================
[2025-08-20 13:31:41] ✅ 現在データベースに 439 種類のゲストキャラクター候補が存在
[2025-08-20 13:31:41] ⚠️  カエルン、ウサッチ、モーレツ先生は現在データベースに見つかりません
[2025-08-20 13:31:41] 🔧 抽出ロジックの制約により、一部ゲストキャラクターが漏れている可能性があります
